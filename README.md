# Many Webcams Eyetracking Beeswarm Plot

This repository is created as a part of Many Webcams[Many Webcams](https://github.com/adriansteffan/manywebcams-eyetracking), a [ManyBabies2](https://manybabies.github.io/MB2/) spinoff.
It contains code used to create a beeswarm plot from the data collected by mutliple labs.


## Prerequisites

As this repository contains video files served over github lfs, the [git-lfs](https://git-lfs.github.com/) extension needs to be installed and activated.

To create the beeswarm plots, you will need an [ffmpeg](https://www.ffmpeg.org/) installation and a [Python3.7](https://www.python.org/downloads/) installation. You will also need to run 
```
pip install -r requirements.txt
``` 
in the repositories root directory to install the necessary dependencies.

## Running the script

In the repositories root directory, run 

```
python3 main.py

```

to start the rendering process.


## Example data

The files

- transformed_data_resampled.csv
- participants_excluded_after_pre.txt

contain the data of the the MB-ManyWebcams study.

If you only want to analyze data from a singular source/lab, replace these files and run the script.

## Merging multiple data sources

If data from multiple sources needs to be combined, create a `lab_data` folder in the root directory of the repository and arrange the data in the following structure: 

```
├── main.py
├── README.md
└── lab_data
    │
    ├── LABNAME_01
    │   ├── transformed_data_resampled.csv
    │   └── participants_excluded_after_pre.txt (optional)
    ├── LABNAME_02
    │   └── ...
    ...
```

The folder names can be freely chosen and should identify the lab that collected that subset of data. If a lab_data folder is present, the script will ignore the top-level data files and work with the merged data table.

## Preparing the data for this script (reproducibility)

Due to the continuous development of the experiment software,the data pipeline was not streamlined in time for the MB-ManyWebcams study. Therefore, the following paragraphs explain how all of the input files for the analysis script are created. 

#### transformed_data_resampled.csv

This file is generated by running the preprocessing script from the [experiment's repository](https://github.com/adriansteffan/manywebcams-eyetracking).


#### participants_excluded_after_pre.txt

If any participant needs to be excluded from the data after the preprocessing is already done, this file (containing one participant ID per line. Can be optionally included to make the script ignore the participants.


## Authors

- **Adrian Steffan** [adriansteffan](https://github.com/adriansteffan) [website](https://adriansteffan.com/)

